<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>WebVR - Aframe - VR walkthrough</title>
    <meta name="description" content="WebVR - Aframe - VR walkthrough" />
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.5.4/dist/aframe-extras.min.js"></script>
    <script src="script.js"></script>
    <style>
      a-text {
        font-family: Arial;
        font-weight: bold;
      }
    </style>
  </head>

  <body>
    <a-scene background="color: #ECECEC">
      <!-- VR Controllers -->
      <a-entity
        laser-controls="hand: right"
        raycaster="objects: .clickable, .audio-control"
      ></a-entity>
      <a-entity
        laser-controls="hand: left"
        raycaster="objects: .clickable, .audio-control"
      ></a-entity>

      <a-assets>
        <!-- Panorama images -->
        <img id="point1" src="./images/room1.jpg" />
        <img id="point2" src="./images/room2.jpg" />
        <img id="point3" src="./images/room3.jpg" />
        <img id="point4" src="./images/room4.jpg" />
        <!-- Hotspot icon -->
        <img id="hotspot" src="./images/up-arrow.png" />
        <!-- Audio file -->
        <audio id="audio1" src="./audio/music.mp3"></audio>
        <!-- Close icon -->
        <img id="close" src="./images/close.png" />

        <img id="play" src="./images/play.png" />
        <img id="pause" src="./images/pause.png" />
      </a-assets>

      <a-entity id="spots" hotspots>
        <!-- Group for point1 -->
        <a-entity id="group-point1" visible="true">
          <a-image
            face-camera
            class="clickable"
            spot="linkto:#point2;
                 spotgroup:group-point2;
                 label:Conference Room;
                 audio:#audio1;
                 popup:Welcome to the Conference Room! This space features...;
                 popupWidth:4.5;
                 popupHeight:2;
                 popupColor:#F0F0F0"
            position="-11 0 2"
          >
          </a-image>
        </a-entity>
        <!-- Group for point2 -->
        <a-entity id="group-point2" visible="false">
          <a-image
            face-camera
            class="clickable"
            spot="linkto:#point1;spotgroup:group-point1;label:Point 1;audio:#audio1;"
            position="10 0 -8"
          ></a-image>
          <a-image
            face-camera
            class="clickable"
            spot="linkto:#point3;spotgroup:group-point3;label:Point 3;audio:#audio1"
            position="0 0 10"
          ></a-image>
        </a-entity>
        <!-- Group for point3 -->
        <a-entity id="group-point3" visible="false">
          <a-image
            face-camera
            class="clickable"
            spot="linkto:#point2;spotgroup:group-point2;label:Point 2;audio:#audio1"
            position="10 0 3"
          ></a-image>
          <a-image
            face-camera
            class="clickable"
            spot="linkto:#point4;spotgroup:group-point4;label:Point 4;audio:#audio1"
            position="-10 0 -3"
          ></a-image>
        </a-entity>
        <!-- Group for point4 -->
        <a-entity id="group-point4" visible="false">
          <a-image
            face-camera
            class="clickable"
            spot="linkto:#point3;spotgroup:group-point3;label:Point 3;audio:#audio1"
            position="0 0 -10"
          ></a-image>
        </a-entity>
      </a-entity>

      <a-sky id="skybox" src="#point1"></a-sky>

      <a-entity id="cam" camera position="0 1.6 0" look-controls>
        <a-entity
          cursor="rayOrigin: mouse; fuse: false"
          raycaster="objects: .clickable, .audio-control"
          position="0 0 -1.8"
          material="shader: flat; color: #ff0000"
        ></a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>
