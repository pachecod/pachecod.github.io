<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>Farm Scans (Fixed)</title>

    <!-- A-Frame core and plugins -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-thumb-controls-component@1.1.0/dist/aframe-thumb-controls-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/fernandojsg/aframe-teleport-controls/dist/aframe-teleport-controls.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
  </head>

  <body>
    <a-scene loading-screen="dotsColor: #DF5532; backgroundColor: #ffffff00">
      <!-- Assets -->
      <a-assets>
        <a-asset-item id="soccerball" src="https://hkfsgnludtapbbtsacwd.supabase.co/storage/v1/object/public/files/Dan%20Pacheco/3d/7-soccerball_1753413655105.glb"></a-asset-item>
        <img id="grass" src="https://hkfsgnludtapbbtsacwd.supabase.co/storage/v1/object/public/files/Dan%20Pacheco/images/grass_1752114153277.jpg"/>
        <img id="sky" src="https://hkfsgnludtapbbtsacwd.supabase.co/storage/v1/object/public/files/Dan%20Pacheco/images/sky_1753371229794_preview.jpg"/>
      </a-assets>

      <!-- Test Box (always visible) -->
      <a-box position="0 1 -3" color="tomato" shadow></a-box>

      <!-- Soccer Ball -->
      <a-entity gltf-model="#soccerball" position="0 -1.7 2" scale="10 10 10"></a-entity>

      <!-- Grass -->
      <a-plane src="#grass" rotation="-90 0 0" width="100" height="100" position="0 0 0" shadow></a-plane>

      <!-- Sky -->
      <a-sky src="#sky" rotation="0 -130 0"></a-sky>

      <!-- Lighting -->
      <a-entity light="type: ambient; intensity: 1.2; color: #ffffff"></a-entity>

      <!-- Camera Rig -->
      <a-entity id="cameraRig" position="0 1.6 4" movement-controls="constrainToNavMesh: false">
        <a-entity id="head" camera look-controls></a-entity>

        <a-entity id="leftHand"
                  hand-controls="hand: left; handModelStyle: lowPoly; color: #15ACCF"
                  teleport-controls="cameraRig: #cameraRig; teleportOrigin: #head; button: trigger"
                  visible="true">
        </a-entity>

        <a-entity id="rightHand"
                  hand-controls="hand: right; handModelStyle: lowPoly; color: #15ACCF"
                  laser-controls
                  raycaster="showLine: true; objects: .clickable"
                  line="color: #7cfc00; opacity: 0.5"
                  visible="true">
        </a-entity>
      </a-entity>

      <!-- Debug Text -->
      <a-text value="Use WASD + mouse or touch to move" position="0 2 -2" color="#000" width="4"></a-text>
    </a-scene>
  </body>
</html>
